<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Govind G Nair">
<meta name="dcterms.date" content="2025-02-22">
<meta name="description" content="Using Constraints to raise your team’s performance">

<title>How Constraints beed Creativity</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-22381ab97ffb8a420d3841344730e94d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">How Constraints beed Creativity</h1>
                  <div>
        <div class="description">
          Using Constraints to raise your team’s performance
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Article</div>
                <div class="quarto-category">Strategy</div>
                <div class="quarto-category">Leadership</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Govind G Nair </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 22, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#historical-examples-of-constraints-driving-innovation" id="toc-historical-examples-of-constraints-driving-innovation" class="nav-link active" data-scroll-target="#historical-examples-of-constraints-driving-innovation">Historical Examples of Constraints Driving Innovation</a>
  <ul class="collapse">
  <li><a href="#apollo-13-mission" id="toc-apollo-13-mission" class="nav-link" data-scroll-target="#apollo-13-mission">Apollo 13 Mission</a></li>
  <li><a href="#toyotas-lean-manufacturing" id="toc-toyotas-lean-manufacturing" class="nav-link" data-scroll-target="#toyotas-lean-manufacturing">Toyota’s Lean Manufacturing</a></li>
  <li><a href="#spacexs-reusable-rockets" id="toc-spacexs-reusable-rockets" class="nav-link" data-scroll-target="#spacexs-reusable-rockets">SpaceX’s Reusable Rockets</a></li>
  <li><a href="#aws-and-api-driven-development" id="toc-aws-and-api-driven-development" class="nav-link" data-scroll-target="#aws-and-api-driven-development">AWS and API-Driven Development</a></li>
  <li><a href="#steve-jobs-and-the-iphone" id="toc-steve-jobs-and-the-iphone" class="nav-link" data-scroll-target="#steve-jobs-and-the-iphone">Steve Jobs and the iPhone</a></li>
  <li><a href="#soviet-programmers" id="toc-soviet-programmers" class="nav-link" data-scroll-target="#soviet-programmers">Soviet Programmers</a></li>
  </ul></li>
  <li><a href="#the-role-of-constraints-in-team-performance" id="toc-the-role-of-constraints-in-team-performance" class="nav-link" data-scroll-target="#the-role-of-constraints-in-team-performance">The Role of Constraints in Team Performance</a></li>
  <li><a href="#types-of-constraints" id="toc-types-of-constraints" class="nav-link" data-scroll-target="#types-of-constraints">Types of Constraints</a>
  <ul class="collapse">
  <li><a href="#input-constraints" id="toc-input-constraints" class="nav-link" data-scroll-target="#input-constraints">Input Constraints</a></li>
  <li><a href="#process-constraints" id="toc-process-constraints" class="nav-link" data-scroll-target="#process-constraints">Process Constraints</a></li>
  <li><a href="#output-constraints" id="toc-output-constraints" class="nav-link" data-scroll-target="#output-constraints">Output Constraints</a></li>
  </ul></li>
  <li><a href="#types-of-projects" id="toc-types-of-projects" class="nav-link" data-scroll-target="#types-of-projects">Types of Projects</a>
  <ul class="collapse">
  <li><a href="#low-innovation" id="toc-low-innovation" class="nav-link" data-scroll-target="#low-innovation">Low Innovation</a></li>
  <li><a href="#medium-innovation" id="toc-medium-innovation" class="nav-link" data-scroll-target="#medium-innovation">Medium Innovation</a></li>
  <li><a href="#high-innovation" id="toc-high-innovation" class="nav-link" data-scroll-target="#high-innovation">High Innovation</a></li>
  </ul></li>
  <li><a href="#a-framework-for-applying-constraints-effectively" id="toc-a-framework-for-applying-constraints-effectively" class="nav-link" data-scroll-target="#a-framework-for-applying-constraints-effectively">A Framework for Applying Constraints Effectively</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>On Christmas day 2024, DeepSeek, China’s leading AI lab released DeepSeek-v3, a frontier foundation model trained at a fraction of the cost of similar models. Barely a month later, they released R1, a reasoning model that is at par with OpenAI’s O1 model but available at a fraction of its cost. DeepSeek did this in the face of export controls imposed by the US. The models were trained on more limited H800 GPUs.</p>
<p>This is a remarkable example of how humans exhibit creative problem-solving in the face of external constraints. There are numerous other innovations and products that have arisen from deliberately imposed constraints. By studying these examples, we can uncover some actionable insights on leveraging constraints to unlock innovation, enhance team performance, and drive impactful results.</p>
<section id="historical-examples-of-constraints-driving-innovation" class="level2">
<h2 class="anchored" data-anchor-id="historical-examples-of-constraints-driving-innovation">Historical Examples of Constraints Driving Innovation</h2>
<section id="apollo-13-mission" class="level3">
<h3 class="anchored" data-anchor-id="apollo-13-mission">Apollo 13 Mission</h3>
<p>Engineers developed life-saving solutions under extreme time and resource constraints to bring the crew safely back to Earth. A key innovation was using the lunar module as a “lifeboat” to provide propulsion and life support after the main spacecraft was damaged. The lunar lander’s engine was repurposed for critical course corrections, showcasing incredible ingenuity under pressure.</p>
</section>
<section id="toyotas-lean-manufacturing" class="level3">
<h3 class="anchored" data-anchor-id="toyotas-lean-manufacturing">Toyota’s Lean Manufacturing</h3>
<p>The “Just-In-Time” production approach emerged from the severe constraints Japan faced in the aftermath of World War II. With limited resources, space, and capital, Toyota was forced to innovate and develop a system that minimized waste and inventory costs, revolutionizing efficiency and laying the foundation for modern manufacturing principles.</p>
</section>
<section id="spacexs-reusable-rockets" class="level3">
<h3 class="anchored" data-anchor-id="spacexs-reusable-rockets">SpaceX’s Reusable Rockets</h3>
<p>The company faced constraints to achieve rocket launches at a significantly lower cost per launch compared to traditional space programs. This drove them to develop groundbreaking cost-saving technologies like the Falcon 9’s reusable boosters, which dramatically reduced the cost of space access.</p>
</section>
<section id="aws-and-api-driven-development" class="level3">
<h3 class="anchored" data-anchor-id="aws-and-api-driven-development">AWS and API-Driven Development</h3>
<p>Jeff Bezos famously mandated that all teams at Amazon build their services using APIs that could be externalized. This constraint ensured that every internal service was modular, scalable, and could eventually be offered as a standalone product. This approach laid the groundwork for the creation of AWS, which turned Amazon’s internal infrastructure into one of the most successful cloud computing platforms in the world.</p>
</section>
<section id="steve-jobs-and-the-iphone" class="level3">
<h3 class="anchored" data-anchor-id="steve-jobs-and-the-iphone">Steve Jobs and the iPhone</h3>
<p>Steve Jobs imposed a significant constraint during the development of the first iPhone by insisting it should not have a physical keyboard. This decision challenged the team to create a revolutionary touchscreen interface and intuitive software, which set a new standard for smartphones and reshaped the industry.</p>
</section>
<section id="soviet-programmers" class="level3">
<h3 class="anchored" data-anchor-id="soviet-programmers">Soviet Programmers</h3>
<p>The Soviet Union produced excellent programmers because computational resources were very scarce. Programmers had to write extremely efficient code to maximize the limited compute available to them. Many of these programmers later pursued lucrative careers in Wall Street trading firms.</p>
</section>
</section>
<section id="the-role-of-constraints-in-team-performance" class="level2">
<h2 class="anchored" data-anchor-id="the-role-of-constraints-in-team-performance">The Role of Constraints in Team Performance</h2>
<p>Frederick P. Brooks, in his seminal book <em>The Mythical Man-Month</em>, argues that adding more people to a late software project only makes it later. This is because increased team size leads to communication overhead, coordination challenges, and inefficiencies. Constraints on team size can thus foster better collaboration and innovation, as seen in startups and high-performing teams.</p>
<p>Slightly understaffed teams often demonstrate greater productivity and creativity compared to overstaffed ones. This is one reason startups can punch far above their weight, and why several large tech companies have gone on efficiency drives to right-size their teams.</p>
<p>I often wonder how much more my team could accomplish with a few additional developers and QA resources. However, being understaffed often forces us to make the hard tradeoffs that maximize the marginal impact of every unit of resource invested.</p>
</section>
<section id="types-of-constraints" class="level2">
<h2 class="anchored" data-anchor-id="types-of-constraints">Types of Constraints</h2>
<p>We can think of constraints along the following dimensions:</p>
<section id="input-constraints" class="level3">
<h3 class="anchored" data-anchor-id="input-constraints">Input Constraints</h3>
<p>These are limits on resources such as time, personnel, compute, or capital. The Apollo 13 rescue mission, world-class Soviet programmers, and the innovations of the DeepSeek team were the result of tight input constraints.</p>
</section>
<section id="process-constraints" class="level3">
<h3 class="anchored" data-anchor-id="process-constraints">Process Constraints</h3>
<p>These are constraints, typically rules or guidelines on how teams and systems should interact. The Toyota Production System is a process constraint (although it was born out of an input constraint) as is the API-based interaction approach that Amazon Web Services pioneered.</p>
</section>
<section id="output-constraints" class="level3">
<h3 class="anchored" data-anchor-id="output-constraints">Output Constraints</h3>
<p>These are constraints on output and performance. SpaceX’s reusable rockets and the iPhone’s touchscreen are all products of output constraints.</p>
</section>
</section>
<section id="types-of-projects" class="level2">
<h2 class="anchored" data-anchor-id="types-of-projects">Types of Projects</h2>
<p>How these constraints are to be used also depends on the type of project being pursued. We can classify projects into three categories:</p>
<section id="low-innovation" class="level3">
<h3 class="anchored" data-anchor-id="low-innovation">Low Innovation</h3>
<p>These are typically pure engineering problems that can be solved by re-configuring existing technology. The Apollo 13 rescue mission was a project in the low innovation category. In fact, reusing existing technology and components was the only option available to the team.</p>
</section>
<section id="medium-innovation" class="level3">
<h3 class="anchored" data-anchor-id="medium-innovation">Medium Innovation</h3>
<p>These are projects that require a novel application of existing technology. DeepSeek’s R1 and V3 models are examples of projects requiring a medium level of innovation. The DeepSeek team had to come up with micro-optimizations to overcome the memory bandwidth limitations of the H800 GPUs.</p>
</section>
<section id="high-innovation" class="level3">
<h3 class="anchored" data-anchor-id="high-innovation">High Innovation</h3>
<p>These are projects that require the creation of new technology and often require deep cross-functional collaboration between different disciplines. SpaceX’s reusable rockets, iPhone’s touchscreens, and Waymo’s self-driving cars are all examples of projects that required the creation of new technology and are hence in the high innovation bucket. SpaceX had to develop novel propulsion and landing systems to enable rocket reusability, a feat never before accomplished at scale.</p>
</section>
</section>
<section id="a-framework-for-applying-constraints-effectively" class="level2">
<h2 class="anchored" data-anchor-id="a-framework-for-applying-constraints-effectively">A Framework for Applying Constraints Effectively</h2>
<p>Combining the two yields a framework that can help inform how we choose constraints given a project. Here the degree of constraint can vary from low, allowing for a lot of latitude, to high, which indicates tight constraints.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 22%">
<col style="width: 25%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Type of Constraints</th>
<th>Low Innovation</th>
<th>Medium Innovation</th>
<th>High Innovation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Input</strong></td>
<td>High</td>
<td>Medium</td>
<td>Low</td>
</tr>
<tr class="even">
<td><strong>Output</strong></td>
<td>High</td>
<td>High</td>
<td>Medium</td>
</tr>
<tr class="odd">
<td><strong>Process</strong></td>
<td>Low</td>
<td>Medium</td>
<td>High</td>
</tr>
</tbody>
</table>
<ul>
<li>If you have a problem that can be solved with the straightforward application of existing technology, inputs and outputs should be clearly defined and constrained. The team can have flexibility in choosing the process, but defaulting to the company’s standard might be the most efficient option. Most teams in big companies and most established start-ups (Think most vertical Software as a Service companies) work on this type of project.</li>
<li>If the problem requires a novel application of existing technology, this would require some level of constraints on the input, tight constraints on the output, and a medium level of process constraints. Most early-stage startups and some teams in big companies operate in this space. The Venture Capital approach is typical for this type of project; additional investments are forthcoming only if you hit certain milestones in a specific time frame.</li>
<li>If the problem is so ambitious that a solution requires the creation of new technology, then input constraints have to be light, output constraints should be more directional rather than specific, and process constraints need to be high to spur collaboration and cross-pollination of ideas.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Good product leadership is about clearly defining goals and constraints while allowing teams the flexibility to operate freely otherwise. To apply this framework effectively, start by identifying the nature of your project—whether it requires low, medium, or high innovation. Then, adjust constraints accordingly, ensuring input, process, and output constraints are aligned with the project’s needs. Encourage teams to embrace constraints as creative challenges rather than obstacles, and continuously refine constraints based on feedback and evolving requirements. I hope this framework will help you do just that.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://hbr.org/2019/11/why-constraints-are-good-for-innovation">Why Constraints Are Good for Innovation</a></li>
<li><a href="https://stratechery.com/2025/the-openai-critique-comparative-advantage-and-infrastructure-aggregation-theory-and-cheap-ai/">The OpenAI Critique</a></li>
<li><a href="https://www.netflix.com/title/81444292">Netflix Documentary</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2024, Govind G Nair</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>